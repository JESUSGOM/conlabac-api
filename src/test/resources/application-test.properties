# ===============================================================
# CONFIGURACIÓN PARA EL ENTORNO DE PRUEBAS (H2 Database)
# ===============================================================
spring.application.name=conlabac-api-test
server.port=10082

# 1. Conexión a Base de Datos en Memoria (H2) - Forzamos modo MySQL
# Se añade NON_KEYWORDS para evitar conflictos con palabras reservadas de SQL
spring.datasource.url=jdbc:h2:mem:conlabac_test_db;DB_CLOSE_DELAY=-1;MODE=MySQL;DATABASE_TO_UPPER=FALSE;CASE_INSENSITIVE_IDENTIFIERS=TRUE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# 2. Configuración de JPA / Hibernate
# Es vital usar H2Dialect para que no intente usar MySQL8Dialect (que causaba el Warning en tu log)
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# 3. Seguridad para Tests
spring.security.user.name=admin
spring.security.user.password=admin

# 4. Email Simulado (Evita que el test se bloquee intentando enviar correos reales)
spring.mail.host=localhost
spring.mail.port=25
spring.mail.properties.mail.smtp.auth=false
spring.mail.properties.mail.smtp.starttls.enable=false

# 5. Habilitar la consola de H2 para depuración (opcional)
spring.h2.console.enabled=true